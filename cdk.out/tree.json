{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.201.0"},"children":{"AwslambdahackathonStack":{"id":"AwslambdahackathonStack","path":"AwslambdahackathonStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.201.0"},"children":{"ItemsTable":{"id":"ItemsTable","path":"AwslambdahackathonStack/ItemsTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.201.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"N"},"billingMode":"PAY_PER_REQUEST","removalPolicy":"destroy"},{"addGlobalSecondaryIndex":[{"indexName":"*","partitionKey":{"name":"*","type":"S"}}]}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/ItemsTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"itemId","attributeType":"S"},{"attributeName":"version","attributeType":"N"},{"attributeName":"status","attributeType":"S"},{"attributeName":"createdAt","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"StatusIndex","keySchema":[{"attributeName":"status","keyType":"HASH"},{"attributeName":"createdAt","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}}],"keySchema":[{"attributeName":"itemId","keyType":"HASH"},{"attributeName":"version","keyType":"RANGE"}]}}},"ScalingRole":{"id":"ScalingRole","path":"AwslambdahackathonStack/ItemsTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}}}},"ListPendingFn":{"id":"ListPendingFn","path":"AwslambdahackathonStack/ListPendingFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.201.0","metadata":[{"entry":"*","runtime":"*","timeout":"*","memorySize":"*","environment":"*","code":"*","handler":"*"},{},{"entry":"*","runtime":"*","timeout":"*","memorySize":"*","environment":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"AwslambdahackathonStack/ListPendingFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"AwslambdahackathonStack/ListPendingFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/ListPendingFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"AwslambdahackathonStack/ListPendingFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/ListPendingFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ItemsTable5AAC2C46","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ItemsTable5AAC2C46","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"ListPendingFnServiceRoleDefaultPolicy99A1905C","roles":[{"Ref":"ListPendingFnServiceRoleA11542B2"}]}}}}}}},"Code":{"id":"Code","path":"AwslambdahackathonStack/ListPendingFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"AwslambdahackathonStack/ListPendingFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"AwslambdahackathonStack/ListPendingFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/ListPendingFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"cfefaf258f6dbffaa7abec03fee73b9e3834daaaa92a8a4d2d0510c116f73e07.zip"},"environment":{"variables":{"ITEMS_TABLE_NAME":{"Ref":"ItemsTable5AAC2C46"}}},"handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["ListPendingFnServiceRoleA11542B2","Arn"]},"runtime":"nodejs20.x","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"AwslambdahackathonStack/ListPendingFn/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/ListPendingFn/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ListPendingFnC1B12507"}]]},"retentionInDays":731}}}}}}},"HelloFn":{"id":"HelloFn","path":"AwslambdahackathonStack/HelloFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.201.0","metadata":[{"entry":"*","timeout":"*","environment":"*","runtime":"*","code":"*","handler":"*"},{},{"entry":"*","timeout":"*","environment":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"AwslambdahackathonStack/HelloFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"AwslambdahackathonStack/HelloFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"AwslambdahackathonStack/HelloFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ItemsTable5AAC2C46","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ItemsTable5AAC2C46","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"HelloFnServiceRoleDefaultPolicy23D39CE4","roles":[{"Ref":"HelloFnServiceRoleDA97FE56"}]}}}}}}},"Code":{"id":"Code","path":"AwslambdahackathonStack/HelloFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"AwslambdahackathonStack/HelloFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"AwslambdahackathonStack/HelloFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"fd87bef2be7cbf9db1bdb133ddc9c804d76483cecf1ddc80eedd6e3b9b48cb5f.zip"},"environment":{"variables":{"ITEMS_TABLE_NAME":{"Ref":"ItemsTable5AAC2C46"}}},"handler":"index.handler","role":{"Fn::GetAtt":["HelloFnServiceRoleDA97FE56","Arn"]},"runtime":"nodejs18.x","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"AwslambdahackathonStack/HelloFn/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloFn/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"HelloFn7942DF23"}]]},"retentionInDays":731}}}}}}},"GeneratorFn":{"id":"GeneratorFn","path":"AwslambdahackathonStack/GeneratorFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.201.0","metadata":[{"entry":"*","runtime":"*","timeout":"*","memorySize":"*","environment":"*","code":"*","handler":"*"},{},{},{"entry":"*","runtime":"*","timeout":"*","memorySize":"*","environment":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"AwslambdahackathonStack/GeneratorFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"AwslambdahackathonStack/GeneratorFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/GeneratorFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"AwslambdahackathonStack/GeneratorFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/GeneratorFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ItemsTable5AAC2C46","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ItemsTable5AAC2C46","Arn"]},"/index/*"]]}]},{"Action":["bedrock:InvokeModel","bedrock:InvokeModelWithResponseStream"],"Effect":"Allow","Resource":{"Fn::Join":["",["arn:aws:bedrock:",{"Ref":"AWS::Region"},"::foundation-model/*"]]}}],"Version":"2012-10-17"},"policyName":"GeneratorFnServiceRoleDefaultPolicy198AF8C0","roles":[{"Ref":"GeneratorFnServiceRole438F20C3"}]}}}}}}},"Code":{"id":"Code","path":"AwslambdahackathonStack/GeneratorFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"AwslambdahackathonStack/GeneratorFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"AwslambdahackathonStack/GeneratorFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/GeneratorFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"73cf82567ac8ad6beee9c340af0f91aba563bf51eb521ddc14c4ed04dbd2e27e.zip"},"environment":{"variables":{"ITEMS_TABLE_NAME":{"Ref":"ItemsTable5AAC2C46"},"BEDROCK_MODEL_ID":"anthropic.claude-3-sonnet-20240229-v1:0"}},"handler":"index.handler","memorySize":512,"role":{"Fn::GetAtt":["GeneratorFnServiceRole438F20C3","Arn"]},"runtime":"nodejs20.x","timeout":30}}},"LogGroup":{"id":"LogGroup","path":"AwslambdahackathonStack/GeneratorFn/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/GeneratorFn/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"GeneratorFnB962270F"}]]},"retentionInDays":731}}}}}}},"InvokeGenerator":{"id":"InvokeGenerator","path":"AwslambdahackathonStack/InvokeGenerator","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions_tasks.LambdaInvoke","version":"2.201.0"}},"ForEach":{"id":"ForEach","path":"AwslambdahackathonStack/ForEach","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.Map","version":"2.201.0"}},"GeneratorStateMachine":{"id":"GeneratorStateMachine","path":"AwslambdahackathonStack/GeneratorStateMachine","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.StateMachine","version":"2.201.0","metadata":[{"definition":"*","timeout":"*"},{"addToRolePolicy":[{}]}]},"children":{"Role":{"id":"Role","path":"AwslambdahackathonStack/GeneratorStateMachine/Role","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportRole":{"id":"ImportRole","path":"AwslambdahackathonStack/GeneratorStateMachine/Role/ImportRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/GeneratorStateMachine/Role/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"states.amazonaws.com"}}],"Version":"2012-10-17"}}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"AwslambdahackathonStack/GeneratorStateMachine/Role/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/GeneratorStateMachine/Role/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["GeneratorFnB962270F","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["GeneratorFnB962270F","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"GeneratorStateMachineRoleDefaultPolicy4E99A3DF","roles":[{"Ref":"GeneratorStateMachineRole1FA01F05"}]}}}}}}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/GeneratorStateMachine/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_stepfunctions.CfnStateMachine","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::StepFunctions::StateMachine","aws:cdk:cloudformation:props":{"definitionString":{"Fn::Join":["",["{\"StartAt\":\"ForEach\",\"States\":{\"ForEach\":{\"Type\":\"Map\",\"End\":true,\"ItemsPath\":\"$.items\",\"Iterator\":{\"StartAt\":\"InvokeGenerator\",\"States\":{\"InvokeGenerator\":{\"End\":true,\"Retry\":[{\"ErrorEquals\":[\"Lambda.ClientExecutionTimeoutException\",\"Lambda.ServiceException\",\"Lambda.AWSLambdaException\",\"Lambda.SdkClientException\"],\"IntervalSeconds\":2,\"MaxAttempts\":6,\"BackoffRate\":2}],\"Type\":\"Task\",\"ResultPath\":\"$.generatorResult\",\"Resource\":\"arn:",{"Ref":"AWS::Partition"},":states:::lambda:invoke\",\"Parameters\":{\"FunctionName\":\"",{"Fn::GetAtt":["GeneratorFnB962270F","Arn"]},"\",\"Payload\":{\"type.$\":\"$.type\",\"lang.$\":\"$.lang\"}}}}}}},\"TimeoutSeconds\":900}"]]},"roleArn":{"Fn::GetAtt":["GeneratorStateMachineRole1FA01F05","Arn"]}}}}}},"ReviewerFn":{"id":"ReviewerFn","path":"AwslambdahackathonStack/ReviewerFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.201.0","metadata":[{"entry":"*","runtime":"*","timeout":"*","memorySize":"*","environment":"*","code":"*","handler":"*"},{},{"entry":"*","runtime":"*","timeout":"*","memorySize":"*","environment":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"AwslambdahackathonStack/ReviewerFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"AwslambdahackathonStack/ReviewerFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/ReviewerFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"AwslambdahackathonStack/ReviewerFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/ReviewerFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ItemsTable5AAC2C46","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ItemsTable5AAC2C46","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"ReviewerFnServiceRoleDefaultPolicy8A45EF6C","roles":[{"Ref":"ReviewerFnServiceRole87E53130"}]}}}}}}},"Code":{"id":"Code","path":"AwslambdahackathonStack/ReviewerFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"AwslambdahackathonStack/ReviewerFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"AwslambdahackathonStack/ReviewerFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/ReviewerFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"bbddf8a70319ab73d4e501ae845d6954532ceafc54c8c214e5107c5c2bc506b9.zip"},"environment":{"variables":{"ITEMS_TABLE_NAME":{"Ref":"ItemsTable5AAC2C46"}}},"handler":"index.handler","memorySize":256,"role":{"Fn::GetAtt":["ReviewerFnServiceRole87E53130","Arn"]},"runtime":"nodejs20.x","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"AwslambdahackathonStack/ReviewerFn/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/ReviewerFn/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ReviewerFnDACAA553"}]]},"retentionInDays":731}}}}}}},"RequestItemsFn":{"id":"RequestItemsFn","path":"AwslambdahackathonStack/RequestItemsFn","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.201.0","metadata":[{"entry":"*","environment":"*","runtime":"*","code":"*","handler":"*"},{},{"entry":"*","environment":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"AwslambdahackathonStack/RequestItemsFn/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"AwslambdahackathonStack/RequestItemsFn/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/RequestItemsFn/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"AwslambdahackathonStack/RequestItemsFn/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/RequestItemsFn/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"states:StartExecution","Effect":"Allow","Resource":{"Ref":"GeneratorStateMachine480D5C39"}}],"Version":"2012-10-17"},"policyName":"RequestItemsFnServiceRoleDefaultPolicyE5D45D4B","roles":[{"Ref":"RequestItemsFnServiceRole1933F096"}]}}}}}}},"Code":{"id":"Code","path":"AwslambdahackathonStack/RequestItemsFn/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"AwslambdahackathonStack/RequestItemsFn/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"AwslambdahackathonStack/RequestItemsFn/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/RequestItemsFn/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"37e3d4620b6130073e762922496caf4c36e577a689adcef3e0f116e81cf251c7.zip"},"environment":{"variables":{"STATE_MACHINE_ARN":{"Ref":"GeneratorStateMachine480D5C39"}}},"handler":"index.handler","role":{"Fn::GetAtt":["RequestItemsFnServiceRole1933F096","Arn"]},"runtime":"nodejs18.x"}}},"LogGroup":{"id":"LogGroup","path":"AwslambdahackathonStack/RequestItemsFn/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/RequestItemsFn/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"RequestItemsFn6C3B7DCB"}]]},"retentionInDays":731}}}}}}},"HelloApi":{"id":"HelloApi","path":"AwslambdahackathonStack/HelloApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.201.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"HelloApi"}}},"Deployment":{"id":"Deployment","path":"AwslambdahackathonStack/HelloApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.201.0","metadata":[{"description":"*","api":"*","retainDeployments":"*"},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"HelloApi3F989F66"}}}}}},"DeploymentStage.prod":{"id":"DeploymentStage.prod","path":"AwslambdahackathonStack/HelloApi/DeploymentStage.prod","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.201.0","metadata":[{"deployment":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloApi/DeploymentStage.prod/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"HelloApiDeployment955828089954e173762d8ae9e89313162405ed85"},"restApiId":{"Ref":"HelloApi3F989F66"},"stageName":"prod"}}}}},"Endpoint":{"id":"Endpoint","path":"AwslambdahackathonStack/HelloApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"Default":{"id":"Default","path":"AwslambdahackathonStack/HelloApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.201.0","metadata":["*"]},"children":{"GET":{"id":"GET","path":"AwslambdahackathonStack/HelloApi/Default/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.201.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.AwslambdahackathonStackHelloApi32B1FB07.GET..":{"id":"ApiPermission.AwslambdahackathonStackHelloApi32B1FB07.GET..","path":"AwslambdahackathonStack/HelloApi/Default/GET/ApiPermission.AwslambdahackathonStackHelloApi32B1FB07.GET..","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HelloFn7942DF23","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"HelloApi3F989F66"},"/",{"Ref":"HelloApiDeploymentStageprodE85054A7"},"/GET/"]]}}}},"ApiPermission.Test.AwslambdahackathonStackHelloApi32B1FB07.GET..":{"id":"ApiPermission.Test.AwslambdahackathonStackHelloApi32B1FB07.GET..","path":"AwslambdahackathonStack/HelloApi/Default/GET/ApiPermission.Test.AwslambdahackathonStackHelloApi32B1FB07.GET..","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["HelloFn7942DF23","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"HelloApi3F989F66"},"/test-invoke-stage/GET/"]]}}}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloApi/Default/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["HelloFn7942DF23","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Fn::GetAtt":["HelloApi3F989F66","RootResourceId"]},"restApiId":{"Ref":"HelloApi3F989F66"}}}}}},"generate":{"id":"generate","path":"AwslambdahackathonStack/HelloApi/Default/generate","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.201.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloApi/Default/generate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["HelloApi3F989F66","RootResourceId"]},"pathPart":"generate","restApiId":{"Ref":"HelloApi3F989F66"}}}},"POST":{"id":"POST","path":"AwslambdahackathonStack/HelloApi/Default/generate/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.201.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.AwslambdahackathonStackHelloApi32B1FB07.POST..generate":{"id":"ApiPermission.AwslambdahackathonStackHelloApi32B1FB07.POST..generate","path":"AwslambdahackathonStack/HelloApi/Default/generate/POST/ApiPermission.AwslambdahackathonStackHelloApi32B1FB07.POST..generate","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GeneratorFnB962270F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"HelloApi3F989F66"},"/",{"Ref":"HelloApiDeploymentStageprodE85054A7"},"/POST/generate"]]}}}},"ApiPermission.Test.AwslambdahackathonStackHelloApi32B1FB07.POST..generate":{"id":"ApiPermission.Test.AwslambdahackathonStackHelloApi32B1FB07.POST..generate","path":"AwslambdahackathonStack/HelloApi/Default/generate/POST/ApiPermission.Test.AwslambdahackathonStackHelloApi32B1FB07.POST..generate","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GeneratorFnB962270F","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"HelloApi3F989F66"},"/test-invoke-stage/POST/generate"]]}}}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloApi/Default/generate/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GeneratorFnB962270F","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"HelloApigenerate2AEDF5B2"},"restApiId":{"Ref":"HelloApi3F989F66"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"AwslambdahackathonStack/HelloApi/Default/generate/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.201.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloApi/Default/generate/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"passthroughBehavior":"NEVER","integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'*'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Origin":true}}],"resourceId":{"Ref":"HelloApigenerate2AEDF5B2"},"restApiId":{"Ref":"HelloApi3F989F66"}}}}}}}},"review":{"id":"review","path":"AwslambdahackathonStack/HelloApi/Default/review","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.201.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloApi/Default/review/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["HelloApi3F989F66","RootResourceId"]},"pathPart":"review","restApiId":{"Ref":"HelloApi3F989F66"}}}},"POST":{"id":"POST","path":"AwslambdahackathonStack/HelloApi/Default/review/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.201.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.AwslambdahackathonStackHelloApi32B1FB07.POST..review":{"id":"ApiPermission.AwslambdahackathonStackHelloApi32B1FB07.POST..review","path":"AwslambdahackathonStack/HelloApi/Default/review/POST/ApiPermission.AwslambdahackathonStackHelloApi32B1FB07.POST..review","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ReviewerFnDACAA553","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"HelloApi3F989F66"},"/",{"Ref":"HelloApiDeploymentStageprodE85054A7"},"/POST/review"]]}}}},"ApiPermission.Test.AwslambdahackathonStackHelloApi32B1FB07.POST..review":{"id":"ApiPermission.Test.AwslambdahackathonStackHelloApi32B1FB07.POST..review","path":"AwslambdahackathonStack/HelloApi/Default/review/POST/ApiPermission.Test.AwslambdahackathonStackHelloApi32B1FB07.POST..review","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ReviewerFnDACAA553","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"HelloApi3F989F66"},"/test-invoke-stage/POST/review"]]}}}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloApi/Default/review/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ReviewerFnDACAA553","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"HelloApireviewAAB22E9E"},"restApiId":{"Ref":"HelloApi3F989F66"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"AwslambdahackathonStack/HelloApi/Default/review/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.201.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloApi/Default/review/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"passthroughBehavior":"NEVER","integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'*'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Origin":true}}],"resourceId":{"Ref":"HelloApireviewAAB22E9E"},"restApiId":{"Ref":"HelloApi3F989F66"}}}}}}}},"pending":{"id":"pending","path":"AwslambdahackathonStack/HelloApi/Default/pending","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.201.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloApi/Default/pending/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["HelloApi3F989F66","RootResourceId"]},"pathPart":"pending","restApiId":{"Ref":"HelloApi3F989F66"}}}},"GET":{"id":"GET","path":"AwslambdahackathonStack/HelloApi/Default/pending/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.201.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.AwslambdahackathonStackHelloApi32B1FB07.GET..pending":{"id":"ApiPermission.AwslambdahackathonStackHelloApi32B1FB07.GET..pending","path":"AwslambdahackathonStack/HelloApi/Default/pending/GET/ApiPermission.AwslambdahackathonStackHelloApi32B1FB07.GET..pending","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ListPendingFnC1B12507","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"HelloApi3F989F66"},"/",{"Ref":"HelloApiDeploymentStageprodE85054A7"},"/GET/pending"]]}}}},"ApiPermission.Test.AwslambdahackathonStackHelloApi32B1FB07.GET..pending":{"id":"ApiPermission.Test.AwslambdahackathonStackHelloApi32B1FB07.GET..pending","path":"AwslambdahackathonStack/HelloApi/Default/pending/GET/ApiPermission.Test.AwslambdahackathonStackHelloApi32B1FB07.GET..pending","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ListPendingFnC1B12507","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"HelloApi3F989F66"},"/test-invoke-stage/GET/pending"]]}}}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloApi/Default/pending/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ListPendingFnC1B12507","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"HelloApipending635CE4DF"},"restApiId":{"Ref":"HelloApi3F989F66"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"AwslambdahackathonStack/HelloApi/Default/pending/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.201.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloApi/Default/pending/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"passthroughBehavior":"NEVER","integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'*'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Origin":true}}],"resourceId":{"Ref":"HelloApipending635CE4DF"},"restApiId":{"Ref":"HelloApi3F989F66"}}}}}}}},"request-items":{"id":"request-items","path":"AwslambdahackathonStack/HelloApi/Default/request-items","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.201.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloApi/Default/request-items/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["HelloApi3F989F66","RootResourceId"]},"pathPart":"request-items","restApiId":{"Ref":"HelloApi3F989F66"}}}},"POST":{"id":"POST","path":"AwslambdahackathonStack/HelloApi/Default/request-items/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.201.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.AwslambdahackathonStackHelloApi32B1FB07.POST..request-items":{"id":"ApiPermission.AwslambdahackathonStackHelloApi32B1FB07.POST..request-items","path":"AwslambdahackathonStack/HelloApi/Default/request-items/POST/ApiPermission.AwslambdahackathonStackHelloApi32B1FB07.POST..request-items","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["RequestItemsFn6C3B7DCB","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"HelloApi3F989F66"},"/",{"Ref":"HelloApiDeploymentStageprodE85054A7"},"/POST/request-items"]]}}}},"ApiPermission.Test.AwslambdahackathonStackHelloApi32B1FB07.POST..request-items":{"id":"ApiPermission.Test.AwslambdahackathonStackHelloApi32B1FB07.POST..request-items","path":"AwslambdahackathonStack/HelloApi/Default/request-items/POST/ApiPermission.Test.AwslambdahackathonStackHelloApi32B1FB07.POST..request-items","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["RequestItemsFn6C3B7DCB","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"HelloApi3F989F66"},"/test-invoke-stage/POST/request-items"]]}}}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloApi/Default/request-items/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["RequestItemsFn6C3B7DCB","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"HelloApirequestitems95AA0F21"},"restApiId":{"Ref":"HelloApi3F989F66"}}}}}},"OPTIONS":{"id":"OPTIONS","path":"AwslambdahackathonStack/HelloApi/Default/request-items/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.201.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/HelloApi/Default/request-items/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{\"statusCode\": 200}"},"passthroughBehavior":"NEVER","integrationResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'*'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE'"}}]},"methodResponses":[{"statusCode":"200","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Methods":true,"method.response.header.Access-Control-Allow-Origin":true}}],"resourceId":{"Ref":"HelloApirequestitems95AA0F21"},"restApiId":{"Ref":"HelloApi3F989F66"}}}}}}}}}}}},"SiteBucket":{"id":"SiteBucket","path":"AwslambdahackathonStack/SiteBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.201.0","metadata":[{"websiteIndexDocument":"*","publicReadAccess":true,"blockPublicAccess":"*","removalPolicy":"destroy","autoDeleteObjects":true},{"addCorsRule":[{"allowedMethods":["GET"],"allowedOrigins":"*","allowedHeaders":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/SiteBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"corsConfiguration":{"corsRules":[{"allowedHeaders":["*"],"allowedMethods":["GET"],"allowedOrigins":["*"]}]},"publicAccessBlockConfiguration":{"blockPublicAcls":false,"blockPublicPolicy":false,"ignorePublicAcls":false,"restrictPublicBuckets":false},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"aws-cdk:cr-owned:7d9446f0","value":"true"}],"websiteConfiguration":{"indexDocument":"index.html"}}}},"Policy":{"id":"Policy","path":"AwslambdahackathonStack/SiteBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.201.0","metadata":[{"bucket":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/SiteBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"SiteBucket397A1860"},"policyDocument":{"Statement":[{"Action":"s3:GetObject","Effect":"Allow","Principal":{"AWS":"*"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},"/*"]]}},{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},"/*"]]}]},{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Principal":{"CanonicalUser":{"Fn::GetAtt":["SiteOAI1F7E9870","S3CanonicalUserId"]}},"Resource":[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},"/*"]]}]}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"AwslambdahackathonStack/SiteBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.201.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"AwslambdahackathonStack/SiteBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"AwslambdahackathonStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.201.0"},"children":{"Staging":{"id":"Staging","path":"AwslambdahackathonStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"Role":{"id":"Role","path":"AwslambdahackathonStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}},"Handler":{"id":"Handler","path":"AwslambdahackathonStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}},"SiteOAI":{"id":"SiteOAI","path":"AwslambdahackathonStack/SiteOAI","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.OriginAccessIdentity","version":"2.201.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/SiteOAI/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCloudFrontOriginAccessIdentity","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CloudFrontOriginAccessIdentity","aws:cdk:cloudformation:props":{"cloudFrontOriginAccessIdentityConfig":{"comment":"Allows CloudFront to reach the bucket"}}}}}},"SiteDistribution":{"id":"SiteDistribution","path":"AwslambdahackathonStack/SiteDistribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.201.0","metadata":[{"defaultRootObject":"*","defaultBehavior":{"origin":"*","viewerProtocolPolicy":"redirect-to-https"},"errorResponses":[{"httpStatus":"*","responseHttpStatus":"*","responsePagePath":"*","ttl":"*"},{"httpStatus":"*","responseHttpStatus":"*","responsePagePath":"*","ttl":"*"}]}]},"children":{"Origin1":{"id":"Origin1","path":"AwslambdahackathonStack/SiteDistribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/SiteDistribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::Select":[2,{"Fn::Split":["/",{"Fn::GetAtt":["SiteBucket397A1860","WebsiteURL"]}]}]},"id":"AwslambdahackathonStackSiteDistributionOrigin1208E3582","customOriginConfig":{"originSslProtocols":["TLSv1.2"],"originProtocolPolicy":"http-only"}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"AwslambdahackathonStackSiteDistributionOrigin1208E3582","cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"viewerProtocolPolicy":"redirect-to-https"},"customErrorResponses":[{"errorCachingMinTtl":300,"errorCode":403,"responseCode":200,"responsePagePath":"/index.html"},{"errorCachingMinTtl":300,"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true}}}}}},"DeployWebsite":{"id":"DeployWebsite","path":"AwslambdahackathonStack/DeployWebsite","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_deployment.BucketDeployment","version":"2.201.0"},"children":{"AwsCliLayer":{"id":"AwsCliLayer","path":"AwslambdahackathonStack/DeployWebsite/AwsCliLayer","constructInfo":{"fqn":"aws-cdk-lib.lambda_layer_awscli.AwsCliLayer","version":"2.201.0","metadata":[{}]},"children":{"Code":{"id":"Code","path":"AwslambdahackathonStack/DeployWebsite/AwsCliLayer/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"AwslambdahackathonStack/DeployWebsite/AwsCliLayer/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"AwslambdahackathonStack/DeployWebsite/AwsCliLayer/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/DeployWebsite/AwsCliLayer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnLayerVersion","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::LayerVersion","aws:cdk:cloudformation:props":{"content":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"b8ab94266984268614c3fb2824a1c3a55395746c48b28c003b08bc1d08688f3e.zip"},"description":"/opt/awscli/aws"}}}}},"CustomResourceHandler":{"id":"CustomResourceHandler","path":"AwslambdahackathonStack/DeployWebsite/CustomResourceHandler","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.SingletonFunction","version":"2.201.0","metadata":[{"uuid":"*","layers":["*"],"environment":"*","lambdaPurpose":"*","timeout":"*","role":"*","memorySize":"*","ephemeralStorageSize":"*","vpc":"*","vpcSubnets":"*","filesystem":"*","logGroup":"*","code":"*","handler":"*","runtime":"*"},{"addMetadata":["*",true]},{"addMetadata":["*","*"]}]}},"Asset1":{"id":"Asset1","path":"AwslambdahackathonStack/DeployWebsite/Asset1","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"AwslambdahackathonStack/DeployWebsite/Asset1/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"AwslambdahackathonStack/DeployWebsite/Asset1/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"CustomResource":{"id":"CustomResource","path":"AwslambdahackathonStack/DeployWebsite/CustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.201.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"AwslambdahackathonStack/DeployWebsite/CustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}}}},"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C":{"id":"Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","path":"AwslambdahackathonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.201.0","metadata":[{"layers":["*"],"environment":"*","timeout":"*","role":"*","memorySize":"*","ephemeralStorageSize":"*","vpc":"*","vpcSubnets":"*","filesystem":"*","logGroup":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addLayers":["*"]}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"AwslambdahackathonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"AwslambdahackathonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"AwslambdahackathonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.201.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:GetBucket*","s3:GetObject*","s3:List*"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::",{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"/*"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":s3:::",{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"}]]}]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SiteBucket397A1860","Arn"]},"/*"]]}]},{"Action":["cloudfront:CreateInvalidation","cloudfront:GetInvalidation"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRoleDefaultPolicy88902FDF","roles":[{"Ref":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265"}]}}}}}}},"Code":{"id":"Code","path":"AwslambdahackathonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.201.0"},"children":{"Stage":{"id":"Stage","path":"AwslambdahackathonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"AssetBucket":{"id":"AssetBucket","path":"AwslambdahackathonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.201.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"AwslambdahackathonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"9a1fcb4a7ecba81ad70e9d3fb241f6794497da945dae5f25924e4dd002b65f2d.zip"},"environment":{"variables":{"AWS_CA_BUNDLE":"/etc/pki/ca-trust/extracted/pem/tls-ca-bundle.pem"}},"handler":"index.handler","layers":[{"Ref":"DeployWebsiteAwsCliLayer17DBC421"}],"role":{"Fn::GetAtt":["CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756CServiceRole89A01265","Arn"]},"runtime":"python3.11","timeout":900}}},"LogGroup":{"id":"LogGroup","path":"AwslambdahackathonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.201.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"AwslambdahackathonStack/Custom::CDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"CustomCDKBucketDeployment8693BB64968944B69AAFB0CC9EB8756C81C01536"}]]},"retentionInDays":731}}}}}}},"SiteURL":{"id":"SiteURL","path":"AwslambdahackathonStack/SiteURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"AwslambdahackathonStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"AwslambdahackathonStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}},"Condition":{"id":"Condition","path":"AwslambdahackathonStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.201.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"AwslambdahackathonStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.201.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"AwslambdahackathonStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.201.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}